{"version":3,"sources":["items.json","util/formatCurrency.js","shoppingCart.js","store.js"],"names":["module","exports","formatter","Intl","NumberFormat","undefined","style","currency","formatCurrency","amount","format","URL","shoppingCart","loadCart","shopButton","document","querySelector","shopCart","shopCartWrapper","shopCartTotal","shopCartTotalAmount","SESSION_STORAGE_KEY","showShopCart","classList","remove","addEventListener","toggle","addToCart","id","existingItem","find","e","quantity","push","saveCart","renderCart","innerHTML","total","forEach","item","shopItem","items","i","itemElement","content","cloneNode","itemImg","src","imageColor","itemName","innerText","name","itemPrice","priceCents","itemQuantity","itemRmBtn","removeFromCart","appendChild","entry","filter","setupShoppingCart","sessionStorage","setItem","JSON","stringify","cart","getItem","console","log","parse","storeItemTemplate","storeItemContainer","setupStore","renderStoreItem","storeItem","container","dataset","itemId","category","price","img","btn"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB,CAChB;AACE,QAAM,CADR;AAEE,UAAQ,KAFV;AAGE,cAAY,eAHd;AAIE,gBAAc,IAJhB;AAKE,gBAAc;AALhB,ACDD,CDAiB,EAQhB,CCRKC,SAAS,GAAG,IAAIC,IAAI,CAACC,YAAT,CAAsBC,SAAtB,EAAiC;ADShD,AGTH,AFCEC,EAAAA,KAAK,CDQE,CADR,ACPQ,UAD0C;ADUhD,ACRDC,EAAAA,QDQS,ACRD,EAAE,MDMX;AAGE,AGVH,AFDmD,CAAjC,CAAlB,YDWe,eAHd;AAIE,AEZH,gBFYiB,IAJhB;AAKE,AGNH,AFFe,SAASC,ODQP,OCRF,CAAwBC,MAAxB,EAAgC;ADG9C,AEPD,ADKE,CDNe,EAehB,MCTQP,SAAS,CAACQ,MAAV,CAAiBD,MAAjB,CAAP;ADUC,ACTF,QDSQ,CADR;AAEE,UAAQ,MAFV;AAGE,AGTH,cHSe,eAHd;AAIE,AEjBH,ACSA,IDTME,ACSAA,GDTG,ACSA,GDTG,ACSA,MHQK,IAJhB,uBEbD,ACSA;AHSG,AEhBH,ACQA,IDRIC,ACQE0D,YHQW,AEhBD,GAAGzD,ECQI,GAAGE,GDRC,EAA3B,GCQkC,CAACC,aAAT,CAAuB,sBAAvB,CAA1B;AHGC,AETD,ACOA,CHbiB,EAsBhB,CEhBKF,ACOAyD,UDPU,GAAGxD,KCOK,GDPG,ACOAA,CDPCC,OCOO,CAACA,KDPjB,CAAuB,OCOf,CAAuB,YDP/B,CAAnB,WCO2B,CAA3B;AHUG,AEhBH,IAAMC,IFgBG,CADR,GEfa,GAAGF,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAjB;AFiBG,AEhBH,ACOO,IDPDE,KCOUsD,CHSL,QAFV,CEdoB,ACOd,GDPiBzD,ACOK,QDPG,CAACC,aAAT,CAAuB,yBAAvB,CAAxB;AFiBG,AEhBH,ACOEuD,EAAAA,EDPIpD,UFgBS,GEhBI,GAAGJ,ACOF,CAACqB,ODPS,CAACpB,CCO7B,CHMD,EGNgC,EAA/B,ODPoB,CAAuB,mBAAvB,CAAtB;AFiBG,AEhBH,IAAMI,YFgBW,IAJhB,GEZwB,GAAGL,QAAQ,CAACC,aAAT,CAAuB,0BAAvB,CAA5B;AFiBG,AEhBH,ACMEyB,IDNIpB,YFgBW,CGVTiB,MDNiB,CCMvB,CAAcmC,CDNY,cCM1B,MDNF;AFWC,AGJA,CHlBgB,EA6BhB;AACE,AEjBI,QFiBE,CADR,AEhBenD,YAAT,GAAwB;AFkB5B,AEjBDL,ACMF,EDNEA,OCMOwD,CHWE,AEjBD,CAAClD,MFeV,GEfC,CAAmBC,GCMrB,CAAyBe,EDNvB,CAA0B,CCM5B,EAA+B,QDN7B;AFkBC,AEjBF,ACMC,MAAMmC,QHWO,CGXE,GAAGJ,aHQnB,IGRoC,CAAC1B,OAAlB,CAA0BC,SAA1B,CAAoC,IAApC,CAAlB;AHYC,AGXD,MAAM8B,SAAS,CHWA,EGXGD,EHOnB,OGP4B,CAAC1D,aAAV,CAAwB,mBAAxB,CAAlB;AHYC,AElBHF,ACOE6D,EAAAA,QDPQ,CAAClD,ACOA,CAACmD,IHWK,GGXf,CAAkBC,MAAlB,CDPF,CAA4B,CCOCtC,IAAI,CAACX,CDPlC,CCOE,CDPmC,YAAM;AFa1C,AEZCX,ACQA,CHzBe,CEiBfA,CFmBD,GGXOkC,IDRE,ACQE,CDRD5B,ECQImD,ODRb,CAAmBhD,CCQG,CAACV,IDRvB,CAA0B,QCQb,CAAwB,EDRrC,WCQa,CAAb;AHYC,AEnBF,ACQCmC,CDVF,CCUEA,IAAI,CAACD,CHWE,CADR,OGVC,GAAiBX,IAAI,CAACY,IAAtB;AHYC,AGVD,MAAM2B,IHUG,IGVK,GAAGJ,CHQlB,QGR2B,CAAC1D,aAAV,CAAwB,gBAAxB,CAAjB;AHWC,AEnBI,ACSL8D,EAAAA,ODTcnD,CCSN,CAACuB,GHUI,IEnBR,CAAmBtB,CCSxB,CDTK,EAAuB,ACSPW,IAAI,CAACuC,GHO3B,KGPC;AHWC,AEnBD,ACUA,MDVMjD,ACUAkD,KAAK,GAAGL,EHSC,EEnBG,EFenB,CEfsB9D,ECUE,CAACI,SDVS,CAACc,GCUpB,CDVO,ACUiB,CDVC,UAACC,CAAD,ECUzB,CAAd;AHUC,AEpBsC,ACWvCgD,EAAAA,KAAK,CAAC7B,GDXwCnB,CAAC,CAACH,EAAF,CFoB/B,CGTf,GDXuDA,ACWrC,EDXqB,2BCWNW,IAAI,CAACc,UAAL,GAAkB,GAAjC,CAAlB;AHID,AEfw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","file":"store.947f7c36.js","sourceRoot":"..","sourcesContent":["module.exports = [\n\t{\n\t  \"id\": 1,\n\t  \"name\": \"Red\",\n\t  \"category\": \"Primary Color\",\n\t  \"priceCents\": 1600,\n\t  \"imageColor\": \"F00\"\n\t},\n\t{\n\t  \"id\": 2,\n\t  \"name\": \"Yellow\",\n\t  \"category\": \"Primary Color\",\n\t  \"priceCents\": 2100,\n\t  \"imageColor\": \"FF0\"\n\t},\n\t{\n\t  \"id\": 3,\n\t  \"name\": \"Blue\",\n\t  \"category\": \"Primary Color\",\n\t  \"priceCents\": 1200,\n\t  \"imageColor\": \"00F\"\n\t},\n\t{\n\t  \"id\": 4,\n\t  \"name\": \"Orange\",\n\t  \"category\": \"Secondary Color\",\n\t  \"priceCents\": 1800,\n\t  \"imageColor\": \"F60\"\n\t},\n\t{\n\t  \"id\": 5,\n\t  \"name\": \"Green\",\n\t  \"category\": \"Secondary Color\",\n\t  \"priceCents\": 1600,\n\t  \"imageColor\": \"0F0\"\n\t},\n\t{\n\t  \"id\": 6,\n\t  \"name\": \"Purple\",\n\t  \"category\": \"Secondary Color\",\n\t  \"priceCents\": 2100,\n\t  \"imageColor\": \"60F\"\n\t},\n\t{\n\t  \"id\": 7,\n\t  \"name\": \"Light Gray\",\n\t  \"category\": \"Grayscale\",\n\t  \"priceCents\": 1200,\n\t  \"imageColor\": \"AAA\"\n\t},\n\t{\n\t  \"id\": 8,\n\t  \"name\": \"Dark Gray\",\n\t  \"category\": \"Grayscale\",\n\t  \"priceCents\": 1600,\n\t  \"imageColor\": \"333\"\n\t}\n      ];","const formatter = new Intl.NumberFormat(undefined, {\n  style: 'currency',\n  currency: 'USD',\n})\n\nexport default function formatCurrency(amount) {\n  return formatter.format(amount)\n}\n","import items from './items.json'\nimport formatCurrency from './util/formatCurrency'\nconst URL = 'https://dummyimage.com/420x260/'\n\nlet shoppingCart = loadCart()\n\nconst shopButton = document.querySelector('[data-shop-button]')\nconst shopCart = document.querySelector('[data-shop-cart]')\nconst shopCartWrapper = document.querySelector('[data-shop-cart-wrapper')\nconst shopCartTotal = document.querySelector('[data-cart-total]')\nconst shopCartTotalAmount = document.querySelector('[data-cart-total-amount]')\nconst SESSION_STORAGE_KEY = 'SHOPPING_CART-cart'\n\nexport function showShopCart() {\n  shopCart.classList.remove('invisible')\n}\nshopButton.addEventListener('click', () => {\n  shopCart.classList.toggle('invisible')\n})\n\nexport function addToCart(id) {\n  const existingItem = shoppingCart.find((e) => e.id === id)\n  if (existingItem) {\n    existingItem.quantity = existingItem.quantity + 1\n  } else {\n    shoppingCart.push({ id: id, quantity: 1 })\n  }\n  saveCart()\n}\n\nexport function renderCart() {\n  shopCartWrapper.innerHTML = ''\n  let total = 0\n  let amount = 0\n  shoppingCart.forEach((item) => {\n    const shopItem = items.find((i) => i.id === item.id)\n\n    const itemElement = document\n      .querySelector('#cart-item-template')\n      .content.cloneNode(true)\n    const itemImg = itemElement.querySelector('[data-cart-img]')\n    itemImg.src = URL + shopItem.imageColor + '/' + shopItem.imageColor\n    const itemName = itemElement.querySelector('[data-cart-name]')\n    itemName.innerText = shopItem.name\n    const itemPrice = itemElement.querySelector('[data-cart-price]')\n    itemPrice.innerText = formatCurrency(shopItem.priceCents / 100)\n    const itemQuantity = itemElement.querySelector('[data-cart-quantity]')\n    itemQuantity.innerText = 'x' + item.quantity\n\n    const itemRmBtn = itemElement.querySelector('[data-cart-rm-btn]')\n    itemRmBtn.addEventListener('click', () => {\n      removeFromCart(item.id)\n    })\n\n    shopCartWrapper.appendChild(itemElement)\n    total += shopItem.priceCents * item.quantity\n    amount += item.quantity\n  })\n  shopCartTotal.innerText = formatCurrency(total / 100)\n  shopCartTotalAmount.innerText = amount\n}\n\nfunction removeFromCart(id) {\n  const existingItem = shoppingCart.find((entry) => entry.id === id)\n  if (existingItem == null) return\n  shoppingCart = shoppingCart.filter((entry) => entry.id != id)\n  renderCart()\n  saveCart()\n}\n\nexport function setupShoppingCart() {\n  loadCart()\n  renderCart()\n}\n\nfunction saveCart() {\n  sessionStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(shoppingCart))\n}\n\nfunction loadCart() {\n  const cart = sessionStorage.getItem(SESSION_STORAGE_KEY)\n  console.log(cart)\n  shoppingCart = JSON.parse(cart) || []\n}\n","import items from './items.json'\nimport {\n  setupShoppingCart,\n  addToCart,\n  renderCart,\n  showShopCart,\n} from './shoppingCart'\nimport formatCurrency from './util/formatCurrency.js'\n\nsetupShoppingCart()\n\nconst URL = 'https://dummyimage.com/420x260/'\nconst storeItemTemplate = document.querySelector('#store-item-template')\nconst storeItemContainer = document.querySelector('[data-store-container]')\n\nexport function setupStore() {\n  storeItemContainer.innerHTML = ''\n  items.forEach(renderStoreItem)\n}\n\nfunction renderStoreItem(item) {\n  const storeItem = storeItemTemplate.content.cloneNode(true)\n  const container = storeItem.querySelector('[data-store-item]')\n  container.dataset.itemId = item.id\n\n  const name = storeItem.querySelector('[data-name]')\n  name.innerText = item.name\n\n  const category = storeItem.querySelector('[data-category')\n  category.innerText = item.category\n\n  const price = storeItem.querySelector('[data-price]')\n  price.innerText = formatCurrency(item.priceCents / 100)\n\n  const img = storeItem.querySelector('[data-img]')\n  img.src = URL + item.imageColor + '/' + item.imageColor\n\n  const btn = storeItem.querySelector('[data-add-to-cart-btn]')\n\n  btn.addEventListener('click', () => {\n    addToCart(item.id)\n    renderCart()\n    showShopCart()\n  })\n\n  storeItemContainer.appendChild(storeItem)\n}\n\nsetupStore()\n"]}